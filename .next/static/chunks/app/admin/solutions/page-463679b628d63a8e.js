(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2601],{6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>i,t:()=>l});var n=r(12115);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,n=e.map(e=>{let n=s(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():s(e[t],null)}}}}function i(...e){return n.useCallback(l(...e),e)}},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let n=r(12115);function s(e,t){let r=(0,n.useRef)(null),s=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=l(e,n)),t&&(s.current=l(t,n))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(95155),s=r(12115),l=r(99708),i=r(74466),o=r(59434);let a=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...u}=e,d=c?l.DX:"button";return(0,n.jsx)(d,{className:(0,o.cn)(a({variant:s,size:i,className:r})),ref:t,...u})});c.displayName="Button"},35695:(e,t,r)=>{"use strict";var n=r(18999);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},51154:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},55333:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(10851);let s="https://whayfpzsmgmxhttztbuw.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndoYXlmcHpzbWdteGh0dHp0YnV3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgxNzM3ODMsImV4cCI6MjA2Mzc0OTc4M30.dj2HhCKz5Eg8dX1_1stQSUeeAHD_wm3i3ldcqthhE3I";if(!s)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL environment variable");if(!l)throw Error("Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable");console.log("Initializing Supabase client with:",{url:s,hasAnonKey:!!l});let i=(0,n.UU)(s,l);!async function(){try{console.log("Testing Supabase connection...");let[{data:e,error:t},{data:r,error:n},{data:s,error:l}]=await Promise.all([i.from("industries").select("count"),i.from("solutions").select("count"),i.from("achievements").select("count")]);console.log("Industries count:",e,"Error:",t),console.log("Solutions count:",r,"Error:",n),console.log("Achievements count:",s,"Error:",l)}catch(e){console.error("Supabase connection test failed:",e)}}()},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var n=r(52596),s=r(39688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,n.$)(t))}},68064:(e,t,r)=>{Promise.resolve().then(r.bind(r,80831))},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var n=r(52596);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=n.$,i=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return l(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;let l=s(t)||s(n);return i[e][l]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return l(e,a,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...c}[t]):({...o,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},80831:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(95155),s=r(12115),l=r(35695),i=r(55333),o=r(30285),a=r(51154),c=r(84616),u=r(66766);let d=[{id:"1",title:"Все типы исследований и подготовка к запуску",description:"Анализ рынка, тестирование идей и формирование стратегии для успешного старта.",image_url:"https://optim.tildacdn.com/tild3738-3933-4763-b231-366238613764/-/cover/720x504/center/center/-/format/webp/man-touching-futuris.jpg.webp",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",title:"Бизнес анализ и аудит",description:"Оценка текущего состояния компании, выявление точек роста и оптимизация процессов.",image_url:"https://optim.tildacdn.com/tild6461-3665-4539-a232-326239636562/-/resize/800x1000/-/format/webp/Picture_3.png.webp",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];function f(){let[e,t]=(0,s.useState)([]),[r,f]=(0,s.useState)(!0),[m,h]=(0,s.useState)(null),p=(0,l.useRouter)();async function g(){try{console.log("Fetching solutions...");let{data:e,error:r}=await i.N.from("solutions").select("*").order("created_at",{ascending:!1});if(r)throw console.error("Supabase error:",r),r;if(console.log("Fetched solutions:",e),!e||0===e.length){console.log("No data found, using fallback data"),t(d);return}t(e),h(null)}catch(e){console.error("Error details:",e),h(e instanceof Error?e.message:"Error loading solutions"),t(d)}finally{f(!1)}}return((0,s.useEffect)(()=>{g();let e=i.N.channel("solutions_changes").on("postgres_changes",{event:"*",schema:"public",table:"solutions"},()=>{console.log("Solutions table changed, refreshing data..."),g()}).subscribe();return()=>{e.unsubscribe()}},[]),r)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:(0,n.jsx)(a.A,{className:"w-8 h-8 animate-spin"})}):m?(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Решения"}),(0,n.jsxs)(o.$,{onClick:()=>p.push("/admin/solutions/new"),children:[(0,n.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Добавить решение"]})]}),(0,n.jsxs)("div",{className:"p-4 border border-red-200 bg-red-50 text-red-700 rounded-md",children:[(0,n.jsxs)("p",{children:["Error: ",m]}),(0,n.jsx)(o.$,{variant:"outline",className:"mt-2",onClick:()=>{f(!0),h(null),g()},children:"Повторить"})]})]}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Решения"}),(0,n.jsxs)(o.$,{onClick:()=>p.push("/admin/solutions/new"),children:[(0,n.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Добавить решение"]})]}),(0,n.jsx)("div",{className:"grid gap-4",children:0===e.length?(0,n.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"Решения не найдены. Создайте первое!"}):e.map(e=>(0,n.jsx)("div",{className:"flex items-center justify-between p-4 bg-card rounded-lg border",children:(0,n.jsxs)("div",{className:"flex items-center gap-4 w-full",children:[e.image_url&&(0,n.jsx)("div",{className:"relative w-16 h-16 rounded-md overflow-hidden flex-shrink-0",children:(0,n.jsx)(u.default,{src:e.image_url,alt:e.title,fill:!0,className:"object-cover",unoptimized:!0})}),(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsx)("h3",{className:"font-medium",children:e.title}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:e.description})]}),(0,n.jsx)(o.$,{variant:"ghost",onClick:()=>p.push("/admin/solutions/".concat(e.id)),children:"Редактировать"})]})},e.id))})]})}},84616:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(19946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},99708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>o,TL:()=>i});var n=r(12115),s=r(6101),l=r(95155);function i(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...l}=e;if(n.isValidElement(r)){var i;let e,o,a=(i=r,(o=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(o=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),c=function(e,t){let r={...t};for(let n in t){let s=e[n],l=t[n];/^on[A-Z]/.test(n)?s&&l?r[n]=(...e)=>{let t=l(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...l}:"className"===n&&(r[n]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}(l,r.props);return r.type!==n.Fragment&&(c.ref=t?(0,s.t)(t,a):a),n.cloneElement(r,c)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:s,...i}=e,o=n.Children.toArray(s),a=o.find(c);if(a){let e=a.props.children,s=o.map(t=>t!==a?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...i,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,l.jsx)(t,{...i,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}var o=i("Slot"),a=Symbol("radix.slottable");function c(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,8852,6766,8441,1684,7358],()=>t(68064)),_N_E=e.O()}]);