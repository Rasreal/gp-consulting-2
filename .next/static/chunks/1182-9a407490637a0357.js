"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1182],{30285:(e,t,r)=>{r.d(t,{$:()=>d});var i=r(95155),a=r(12115),s=r(99708),n=r(74466),o=r(59434);let l=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,i.jsx)(u,{className:(0,o.cn)(l({variant:a,size:n,className:r})),ref:t,...c})});d.displayName="Button"},51182:(e,t,r)=>{r.d(t,{U:()=>w});var i=r(95155),a=r(12115),s=r(35695),n=r(55333),o=r(30285),l=r(62523),d=r(88539),c=r(85057),u=r(51154),m=r(85713),h=r(66474),p=r(5196),f=r(59434);let g=m.bL;m.YJ;let v=m.WT,x=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,i.jsxs)(m.l9,{ref:t,className:(0,f.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:[a,(0,i.jsx)(m.In,{asChild:!0,children:(0,i.jsx)(h.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=m.l9.displayName;let b=a.forwardRef((e,t)=>{let{className:r,children:a,position:s="popper",...n}=e;return(0,i.jsx)(m.ZL,{children:(0,i.jsx)(m.UC,{ref:t,className:(0,f.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...n,children:(0,i.jsx)(m.LM,{className:(0,f.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a})})})});b.displayName=m.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(m.JU,{ref:t,className:(0,f.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=m.JU.displayName;let y=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,i.jsxs)(m.q7,{ref:t,className:(0,f.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(m.VF,{children:(0,i.jsx)(p.A,{className:"h-4 w-4"})})}),(0,i.jsx)(m.p4,{children:a})]})});y.displayName=m.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(m.wv,{ref:t,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=m.wv.displayName;let j=["TransportIcon","TelecomIcon","LogisticsIcon","ManufacturingIcon","FinanceIcon","RetailIcon","HealthcareIcon","EnergyIcon"];function w(e){let{type:t,initialData:r,mode:m}=e,h=(0,s.useRouter)(),[p,f]=(0,a.useState)(!1),[w,N]=(0,a.useState)(r||{title:"",description:"",icon:"industry"===t?j[0]:void 0,services:"industry"===t?[]:void 0,image_url:"solution"===t?"":void 0,value:"achievement"===t?"":void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),I=async e=>{e.preventDefault(),f(!0);try{let e=new Date().toISOString(),i={...w,created_at:"create"===m?e:(null==r?void 0:r.created_at)||e,updated_at:e};if("industry"===t){let{image_url:e,value:t,...r}=i,a=[];"string"==typeof r.services?a=r.services.split(",").map(e=>e.trim()).filter(Boolean):Array.isArray(r.services)&&(a=r.services),i={...r,services:a}}if("solution"===t){let{services:e,value:t,...r}=i;i=r}if("achievement"===t){let{icon:e,services:t,image_url:r,...a}=i;i=a}if("create"===m){let{error:e}=await n.N.from("achievement"===t?"achievements":"industry"===t?"industries":"".concat(t,"s")).insert([i]);if(e)throw e}else if(null==r?void 0:r.id){let{error:e}=await n.N.from("achievement"===t?"achievements":"industry"===t?"industries":"".concat(t,"s")).update(i).eq("id",r.id);if(e)throw e}h.push("/admin/".concat("achievement"===t?"achievements":"industry"===t?"industries":"".concat(t,"s"))),h.refresh()}catch(e){console.error("Error ".concat("create"===m?"creating":"updating"," ").concat(t,":"),e),alert(e instanceof Error?e.message:"Error ".concat("create"===m?"creating":"updating"," ").concat(t))}finally{f(!1)}},C=async()=>{if((null==r?void 0:r.id)&&confirm("Are you sure you want to delete this item?")){f(!0);try{let{error:e}=await n.N.from("achievement"===t?"achievements":"industry"===t?"industries":"".concat(t,"s")).delete().eq("id",r.id);if(e)throw e;h.push("/admin/".concat("achievement"===t?"achievements":"industry"===t?"industries":"".concat(t,"s"))),h.refresh()}catch(e){console.error("Error deleting content:",e),e instanceof Error?alert(e.message||"Error deleting content. Please try again."):alert("Error deleting content. Please try again.")}finally{f(!1)}}};return(0,i.jsxs)("form",{onSubmit:I,className:"space-y-6 bg-white p-6 rounded-lg shadow-sm border",children:["achievement"!==t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"title",children:"Title"}),(0,i.jsx)(l.p,{id:"title",value:w.title||"",onChange:e=>N({...w,title:e.target.value}),required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"description",children:"Description"}),(0,i.jsx)(d.T,{id:"description",value:w.description,onChange:e=>N({...w,description:e.target.value}),required:!0})]}),"industry"===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"icon",children:"Icon"}),(0,i.jsxs)(g,{value:w.icon,onValueChange:e=>N({...w,icon:e}),children:[(0,i.jsx)(x,{className:"w-full bg-white",children:(0,i.jsx)(v,{placeholder:"Select an icon"})}),(0,i.jsx)(b,{className:"bg-white",children:j.map(e=>(0,i.jsx)(y,{value:e,children:e},e))})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"services",children:"Services (comma-separated)"}),(0,i.jsx)(d.T,{id:"services",value:Array.isArray(w.services)?w.services.join(", "):w.services||"",onChange:e=>N({...w,services:e.target.value}),required:!0,placeholder:"Enter services separated by commas"})]})]}),"solution"===t&&(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"image_url",children:"Image URL"}),(0,i.jsx)(l.p,{id:"image_url",value:w.image_url||"",onChange:e=>N({...w,image_url:e.target.value}),required:!0,placeholder:"https://example.com/image.jpg"}),w.image_url&&(0,i.jsxs)("div",{className:"mt-2 border rounded-md p-2",children:[(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Preview:"}),(0,i.jsx)("div",{className:"relative aspect-video max-w-xs rounded-md overflow-hidden",children:(0,i.jsx)("img",{src:w.image_url,alt:"Preview",className:"object-cover w-full h-full"})})]})]})]}),"achievement"===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"value",children:"Value"}),(0,i.jsx)(l.p,{id:"value",value:w.value||"",onChange:e=>N({...w,value:e.target.value}),required:!0,placeholder:"e.g. '95%' or '> 25' or '+18 pp'"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"title",children:"Title"}),(0,i.jsx)(l.p,{id:"title",value:w.title||"",onChange:e=>N({...w,title:e.target.value}),required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"description",children:"Description"}),(0,i.jsx)(d.T,{id:"description",value:w.description,onChange:e=>N({...w,description:e.target.value}),required:!0})]})]}),(0,i.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,i.jsx)("div",{children:"edit"===m&&(0,i.jsx)(o.$,{type:"button",onClick:C,variant:"destructive",disabled:p,children:p?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>h.push("/admin/".concat("achievement"===t?"achievements":"industry"===t?"industries":"".concat(t,"s"))),disabled:p,children:"Cancel"}),(0,i.jsx)(o.$,{type:"submit",disabled:p,children:p?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"create"===m?"Creating...":"Updating..."]}):"create"===m?"Create":"Update"})]})]})]})}},55333:(e,t,r)=>{r.d(t,{N:()=>n});var i=r(10851);let a="https://whayfpzsmgmxhttztbuw.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndoYXlmcHpzbWdteGh0dHp0YnV3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgxNzM3ODMsImV4cCI6MjA2Mzc0OTc4M30.dj2HhCKz5Eg8dX1_1stQSUeeAHD_wm3i3ldcqthhE3I";if(!a)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL environment variable");if(!s)throw Error("Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable");console.log("Initializing Supabase client with:",{url:a,hasAnonKey:!!s});let n=(0,i.UU)(a,s);!async function(){try{console.log("Testing Supabase connection...");let[{data:e,error:t},{data:r,error:i},{data:a,error:s}]=await Promise.all([n.from("industries").select("count"),n.from("solutions").select("count"),n.from("achievements").select("count")]);console.log("Industries count:",e,"Error:",t),console.log("Solutions count:",r,"Error:",i),console.log("Achievements count:",a,"Error:",s)}catch(e){console.error("Supabase connection test failed:",e)}}()},59434:(e,t,r)=>{r.d(t,{cn:()=>s});var i=r(52596),a=r(39688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,i.$)(t))}},62523:(e,t,r)=>{r.d(t,{p:()=>n});var i=r(95155),a=r(12115),s=r(59434);let n=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,i.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input"},85057:(e,t,r)=>{r.d(t,{J:()=>o});var i=r(95155),a=r(12115),s=r(40968),n=r(59434);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(s.b,{ref:t,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...a})});o.displayName=s.b.displayName},88539:(e,t,r)=>{r.d(t,{T:()=>n});var i=r(95155),a=r(12115),s=r(59434);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});n.displayName="Textarea"}}]);