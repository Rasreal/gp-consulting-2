{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/yersultan/developer/work_projects/gp-consulting-2/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/yersultan/developer/work_projects/gp-consulting-2/src/app/admin/solutions/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { supabase } from '@/lib/supabase';\nimport { Button } from '@/components/ui/button';\nimport { Solution } from '@/hooks/useSolutions';\nimport { Loader2, Plus } from 'lucide-react';\nimport Image from 'next/image';\n\n// Fallback data in case of errors\nconst FALLBACK_SOLUTIONS: Solution[] = [\n  {\n    id: '1',\n    title: 'Все типы исследований и подготовка к запуску',\n    description: 'Анализ рынка, тестирование идей и формирование стратегии для успешного старта.',\n    image_url: 'https://optim.tildacdn.com/tild3738-3933-4763-b231-366238613764/-/cover/720x504/center/center/-/format/webp/man-touching-futuris.jpg.webp',\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString()\n  },\n  {\n    id: '2',\n    title: 'Бизнес анализ и аудит',\n    description: 'Оценка текущего состояния компании, выявление точек роста и оптимизация процессов.',\n    image_url: 'https://optim.tildacdn.com/tild6461-3665-4539-a232-326239636562/-/resize/800x1000/-/format/webp/Picture_3.png.webp',\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString()\n  }\n];\n\nexport default function SolutionsAdminPage() {\n  const [solutions, setSolutions] = useState<Solution[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    fetchSolutions();\n\n    // Subscribe to changes\n    const channel = supabase\n      .channel('solutions_changes')\n      .on(\n        'postgres_changes',\n        {\n          event: '*',\n          schema: 'public',\n          table: 'solutions',\n        },\n        () => {\n          console.log('Solutions table changed, refreshing data...');\n          fetchSolutions();\n        }\n      )\n      .subscribe();\n\n    return () => {\n      channel.unsubscribe();\n    };\n  }, []);\n\n  async function fetchSolutions() {\n    try {\n      console.log('Fetching solutions...');\n      const { data, error: fetchError } = await supabase\n        .from('solutions')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (fetchError) {\n        console.error('Supabase error:', fetchError);\n        throw fetchError;\n      }\n\n      console.log('Fetched solutions:', data);\n\n      if (!data || data.length === 0) {\n        console.log('No data found, using fallback data');\n        setSolutions(FALLBACK_SOLUTIONS);\n        return;\n      }\n\n      setSolutions(data);\n      setError(null);\n    } catch (error: unknown) {\n      console.error('Error details:', error);\n      const message = error instanceof Error ? error.message : 'Error loading solutions';\n      setError(message);\n      setSolutions(FALLBACK_SOLUTIONS);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[50vh]\">\n        <Loader2 className=\"w-8 h-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-2xl font-bold\">Решения</h1>\n          <Button onClick={() => router.push('/admin/solutions/new')}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Добавить решение\n          </Button>\n        </div>\n        <div className=\"p-4 border border-red-200 bg-red-50 text-red-700 rounded-md\">\n          <p>Error: {error}</p>\n          <Button\n            variant=\"outline\"\n            className=\"mt-2\"\n            onClick={() => {\n              setIsLoading(true);\n              setError(null);\n              fetchSolutions();\n            }}\n          >\n            Повторить\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold\">Решения</h1>\n        <Button onClick={() => router.push('/admin/solutions/new')}>\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Добавить решение\n        </Button>\n      </div>\n\n      <div className=\"grid gap-4\">\n        {solutions.length === 0 ? (\n          <p className=\"text-muted-foreground text-center py-8\">\n            Решения не найдены. Создайте первое!\n          </p>\n        ) : (\n          solutions.map((solution) => (\n            <div\n              key={solution.id}\n              className=\"flex items-center justify-between p-4 bg-card rounded-lg border\"\n            >\n              <div className=\"flex items-center gap-4 w-full\">\n                {solution.image_url && (\n                  <div className=\"relative w-16 h-16 rounded-md overflow-hidden flex-shrink-0\">\n                    <Image \n                      src={solution.image_url} \n                      alt={solution.title}\n                      fill\n                      className=\"object-cover\"\n                      unoptimized\n                    />\n                  </div>\n                )}\n                <div className=\"flex-grow\">\n                  <h3 className=\"font-medium\">{solution.title}</h3>\n                  <p className=\"text-sm text-muted-foreground line-clamp-1\">\n                    {solution.description}\n                  </p>\n                </div>\n                <Button\n                  variant=\"ghost\"\n                  onClick={() => router.push(`/admin/solutions/${solution.id}`)}\n                >\n                  Редактировать\n                </Button>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}